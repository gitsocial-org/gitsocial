<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="GitSocial - decentralized open source social network built entirely on Git.">
  <title>GitSocial - Git-native social networking</title>
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="style.css">
  <script>
    const theme = localStorage.getItem('theme');
    if (theme) {
      document.documentElement.classList.add('loading');
      document.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add(theme);
        document.documentElement.classList.remove('loading');
      });
    }
  </script>
</head>

<body>
  <main>
    <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
      <svg id="theme-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g id="moon-icon">
          <mask id="moon-mask">
            <rect width="20" height="20" fill="white" />
            <circle cx="12" cy="6" r="7" fill="black" />
          </mask>
          <circle cx="10" cy="10" r="7" fill="currentColor" mask="url(#moon-mask)" />
        </g>
        <g id="sun-icon" style="display: none;">
          <circle cx="10" cy="10" r="3" fill="currentColor" />
          <path
            d="M10 1V3M10 17V19M19 10H17M3 10H1M16.5 3.5L15.1 4.9M4.9 15.1L3.5 16.5M16.5 16.5L15.1 15.1M4.9 4.9L3.5 3.5"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" />
        </g>
      </svg>
    </button>
    <div class="container">
      <img src="logo.svg" alt="GitSocial logo" class="logo">
      <h1>GitSocial</h1>
      <p class="pitch">
        Decentralized open source social network built entirely on Git.
        <br /> <br />
        Share posts, follow repositories, and interact with communities using nothing but Git commits and refs.
        No central servers, no data silosâ€”just pure Git.
      </p>

      <div class="cta-buttons">
        <a href="https://github.com/gitsocial-org/gitsocial" class="btn btn-primary">View on GitHub</a>
        <a href="https://marketplace.visualstudio.com/items?itemName=gitsocial.gitsocial"
          class="btn btn-secondary">Install VS Code Extension</a>
      </div>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 GitSocial. Open source under MIT License.</p>
  </footer>

  <script>
    const toggleButton = document.getElementById('theme-toggle');
    const moonIcon = document.getElementById('moon-icon');
    const sunIcon = document.getElementById('sun-icon');
    const body = document.body;

    function getSystemTheme() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    function getCurrentTheme() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        return savedTheme.replace('-mode', '');
      }
      return getSystemTheme();
    }

    function updateIcon(theme) {
      if (theme === 'dark') {
        moonIcon.style.display = 'none';
        sunIcon.style.display = 'block';
      } else {
        moonIcon.style.display = 'block';
        sunIcon.style.display = 'none';
      }
    }

    function setTheme(theme) {
      body.classList.remove('light-mode', 'dark-mode');
      body.classList.add(`${theme}-mode`);
      localStorage.setItem('theme', `${theme}-mode`);
      updateIcon(theme);
    }

    updateIcon(getCurrentTheme());

    toggleButton.addEventListener('click', () => {
      const currentTheme = getCurrentTheme();
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      setTheme(newTheme);
    });
  </script>
</body>

</html>
